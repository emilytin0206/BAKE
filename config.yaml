# ========================
# Model Configuration
# ========================

# 負責評分與執行任務的模型 (Task Model / Mt)
scorer:
  provider: "ollama"       # 選項: "openai" 或 "ollama"
  model_name: "qwen2.5:7b"     # 模型名稱 (如 gpt-3.5-turbo, llama3, mistral)
  base_url: "http://localhost:11434/v1" # Ollama 預設位置, OpenAI 則留空或刪除
  api_key: "ollama"        # Ollama 隨意填, OpenAI 需填真實 Key
  temperature: 0.0
  max_tokens: 1024

# 負責優化與總結規則的模型 (Optimizer Model / Mo)
optimizer:
  provider: "ollama"       # 選項: "openai" 或 "ollama"
  model_name: "qwen2.5:32b"     # 模型名稱 (如 gpt-3.5-turbo, llama3, mistral)
  base_url: "http://localhost:11434/v1" # Ollama 預設位置, OpenAI 則留空或刪除
  api_key: "ollama"        # Ollama 隨意填, OpenAI 需填真實 Key
  temperature: 0.7
  max_tokens: 2048

# ========================
# Pricing (USD per 1M tokens)
# ========================
pricing:
  # Scorer 通常是本地 Ollama (免費) 或便宜模型
  scorer:
    input_price: 0.0     # 本地跑填 0
    output_price: 0.0
  
  # Optimizer 通常是 GPT-4o
  optimizer:
    input_price: 2.50    # GPT-4o 輸入價格 (每百萬 token)
    output_price: 10.00  # GPT-4o 輸出價格 (每百萬 token)

# ========================
# Logging & Paths
# ========================
paths:
  meta_prompt_dir: "meta_prompt"
  output_file: "optimized_prompts.txt"
  
  # Log 檔案
  detailed_log: "logs/detailed_results.jsonl"
  rules_log: "logs/rules_history.txt"
  cost_log: "logs/cost_report.csv"

# ========================
# Dataset & Execution
# ========================
datasets:
  # - name: "gsm8k"
  #   split: "train"
  #   offset: 0
  #   limit: 10                    # GSM8K 取 10 題

- name: "mmlu"
    # [關鍵] 改成 list，指定具代表性的不同領域
  subsets: 
      - "high_school_mathematics"  # 數學
      - "high_school_world_history"      # 歷史 (文科)
      - "high_school_physics"      # 物理 (理科)
      - "professional_law"         # 法律 (邏輯與條文)
      - "business_ethics"      # 商業 (常識判斷)
  split: "test"
  offset: 0
  limit: 2                 # MMLU 取 10 題

execution:
  concurrency: 5
  max_retries: 3
  retry_delay: 1.0

bake:
  group_size: 3
  max_output_prompts: 8
  iterative_prompt_count: 5  
  
initial_prompts:
  - "Let's think step by step."
  - "Think about this logically."
  - "Solve this problem by breaking it down into smaller parts."
  - "Take a deep breath and work on this problem step-by-step."
  - "Please provide a detailed explanation followed by the final answer."
  - "Use chain of thought reasoning to derive the answer."